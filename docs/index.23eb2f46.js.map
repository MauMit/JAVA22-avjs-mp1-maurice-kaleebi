{"mappings":"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","sources":["src/modules/highscore.js","src/modules/game.js"],"sourcesContent":["//gör en get och put på min firebase. Gör en sortering på name och score och lägger dem i li. Gör att namnet användaren skriver inte hamnar på listan flera gånger utan bara poängen uppdateras\r\n\r\nconst div = document.querySelector('#userContainer');\r\nlet userName = '';\r\nlet playerScore = 0;\r\nlet sortedData = [];\r\n//GET\r\nexport async function getFirebase(incomingName, incomingPoints) {\r\n    const url = 'https://miniproject-advjs-default-rtdb.europe-west1.firebasedatabase.app/highscore.json'\r\n    const response = await fetch(url);\r\n    const data = await response.json();\r\n\r\n\r\n    userName = incomingName;\r\n    playerScore = incomingPoints;\r\n\r\n    sortedData = data.sort((a, b) => a.score - b.score);\r\n\r\n    div.innerHTML = \"\";\r\n\r\n\r\n    if (sortedData.some(obj => obj.name === userName)) {\r\n        for (let i = 0; i < sortedData.length; i++) {\r\n            if (sortedData[i].name == userName && sortedData[i].score < playerScore) {\r\n                sortedData[i].score = playerScore;\r\n                break;\r\n            }\r\n        }\r\n    } else {\r\n        for (let i = 0; i < sortedData.length; i++) {\r\n\r\n            if (sortedData[i].score < playerScore) {\r\n                sortedData[i].name = userName;\r\n                sortedData[i].score = playerScore;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    sortedData = sortedData.sort((a, b) => b.score - a.score);\r\n\r\n    for (const { name, score } of sortedData) {\r\n        const li = document.createElement('li');\r\n        li.innerText = `${name}: ${score}`;\r\n        div.append(li);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport async function putToFireBase(incomingName, incomingPoints) {\r\n\r\n    userName = incomingName;\r\n    playerScore = incomingPoints;\r\n    \r\n    const url = 'https://miniproject-advjs-default-rtdb.europe-west1.firebasedatabase.app/highscore.json';\r\n\r\n    const response = await fetch(url);\r\n    const data = await response.json();\r\n    sortedData = data.sort((a, b) => a.score - b.score);\r\n\r\n    if (sortedData.some(obj => obj.name === userName)) {\r\n        for (let i = 0; i < sortedData.length; i++) {\r\n            if (sortedData[i].name == userName && sortedData[i].score < playerScore) {\r\n                sortedData[i].score = playerScore;\r\n                break;\r\n            }\r\n        }\r\n    } else {\r\n        for (let i = 0; i < sortedData.length; i++) {\r\n\r\n            if (sortedData[i].score < playerScore) {\r\n                sortedData[i].name = userName;\r\n                sortedData[i].score = playerScore;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    sortedData = sortedData.sort((a, b) => b.score - a.score);\r\n\r\n    const options = {\r\n        method: \"PUT\",\r\n        body: JSON.stringify(sortedData),\r\n        headers: {\r\n            \"Content-type\": \"application/json; charset=UTF-8\",\r\n        },\r\n    };\r\n\r\n    const response2 = await fetch(url, options);\r\n    const data2 = await response2.json();\r\n\r\n}\r\n\r\n\r\n","import { getFirebase } from \"./highscore.js\";\r\nimport { putToFireBase } from \"./highscore.js\";\r\n\r\nconst arr = ['Rock', 'Paper', 'Scissors'];\r\nconst winnerH1 = document.querySelector('h1'); // Texten som visar vem som vann matchen\r\nconst playerChoiceH2 = document.querySelector('h2'); // ger ett namn till min h2-text som visar användares val\r\nconst h3 = document.querySelectorAll('h3');\r\nconst h4 = document.querySelectorAll('h4');\r\nconst endGameResultH5 = document.querySelector('h5');\r\nconst usernameInput = document.querySelector('input');\r\nconst button = document.querySelectorAll('button');\r\nconst rock = arr[0]; // döper arr[0] till rock för enklare läsning av kod\r\nconst paper = arr[1]; // döper arr[1] till paper för enklare läsning av kod\r\nconst scissors = arr[2]; // döper arr[2] till scissors för enklare läsning av kod\r\n\r\nconst userNameSubmitButton = button[0];\r\nconst rockButton = button[1];\r\nconst paperButton = button[2];\r\nconst scissorsButton = button[3];\r\n\r\nlet userName;\r\n\r\nusernameInput.value = '';  // gör så att texten försvinner från sökrutan\r\nlet computerChoice = h4[1]; // ger ett namn till min h4[1]-text som visar datorns val\r\nlet winnerOfRoundResultH4 = h4[0]; // Visar resultat av ronden på skärmen, om användare väljer sten och datorn väljer på så visar den att datorn vann\r\n\r\nlet playerScore = 0; // poäng för spelaren när de väljer rätt\r\nlet computerScore = 0; // poäng för datorn när de väljer rätt\r\n\r\n// let random = Math.floor(Math.random() * arr.length);\r\nlet random = 0;\r\nlet computerGuess = `${arr[random]}`;\r\n\r\n\r\nfunction gameOver() { // funktion körs när datorn vinner\r\n    if (computerScore == 1) {\r\n        putToFireBase(userName, playerScore)\r\n        getFirebase(userName, playerScore)\r\n        winnerH1.innerText = 'Computer Won the game';\r\n        endGameResultH5.innerText = 'Game over, Select Rock, Paper or Scissors to play again OR hit refresh for new player';\r\n        endGameResultH5.style.color = 'purple';\r\n        winnerOfRoundResultH4.innerText = '';\r\n        h3[0].innerText = `Player Points: ${playerScore}`;\r\n        computerScore = 0;\r\n        playerScore = 0;\r\n    }\r\n}\r\n\r\nfunction playerWins() { // function körs när spelaren vinner ett poäng\r\n    playerScore++;\r\n    winnerOfRoundResultH4.innerText = 'Player Wins';\r\n    computerChoice.innerText = `Computer selected ${computerGuess}`;\r\n    h3[0].innerText = `Player Points: ${playerScore}`;\r\n    h3[0].style.color = 'blue';\r\n    console.log(computerGuess)\r\n}\r\n\r\n\r\nexport function playGame() { // lägger spelet i en function och kallar på den i main\r\n    userNameSubmitButton.addEventListener('click', event => {\r\n        getFirebase(userName, playerScore)\r\n        event.preventDefault(); // gör så att det vi skriver är kvar på sidan\r\n        userName = usernameInput.value;\r\n\r\n        if (userName != '') { // Gör så att man inte kan skriva in en tom sträng i input\r\n            const usernameH1 = document.createElement('h1');\r\n            usernameH1.innerText = `Welcome ${userName}`;\r\n            usernameH1.style.textShadow = '2px 2px red';\r\n            usernameH1.style.marginLeft = '600px'\r\n            document.body.append(usernameH1);\r\n            const form = document.querySelector(\"form\");\r\n            form.remove();\r\n        }\r\n    });\r\n\r\n    rockButton.addEventListener('click', () => {\r\n\r\n        random = Math.floor(Math.random() * arr.length);\r\n        computerGuess = `${arr[random]}`;\r\n        playerChoiceH2.innerText = 'You Selected Rock';\r\n        winnerH1.innerText = '';\r\n        endGameResultH5.innerText = '';\r\n        console.log(computerGuess)\r\n   \r\n        if (computerGuess == rock) {\r\n\r\n            winnerOfRoundResultH4.innerText = 'Tie';\r\n            computerChoice.innerText = `Computer selected ${computerGuess}`;\r\n\r\n        } else if (computerGuess == paper) {\r\n            computerScore++;\r\n            computerChoice.innerText = `Computer selected ${computerGuess}`;\r\n            h3[1].style.color = 'red';\r\n\r\n\r\n        } else if (computerGuess == scissors) {\r\n\r\n            playerWins();\r\n\r\n        }\r\n        gameOver();\r\n\r\n\r\n    });\r\n\r\n    paperButton.addEventListener('click', () => {\r\n       \r\n         random = Math.floor(Math.random() * arr.length);\r\n         computerGuess = `${arr[random]}`;\r\n        playerChoiceH2.innerText = 'You Selected Paper';\r\n        winnerH1.innerText = '';\r\n        endGameResultH5.innerText = '';\r\n        console.log(computerGuess)\r\n\r\n        if (computerGuess == rock) {\r\n\r\n           playerWins();\r\n\r\n        } else if (computerGuess == paper) {\r\n\r\n            winnerOfRoundResultH4.innerText = 'Tie';\r\n            computerChoice.innerText = `Computer selected ${computerGuess}`;\r\n\r\n        } else if (computerGuess == scissors) {\r\n\r\n            computerScore++;\r\n            computerChoice.innerText = `Computer selected ${computerGuess}`;\r\n            h3[1].style.color = 'red';\r\n        }\r\n\r\n        gameOver();\r\n    });\r\n\r\n\r\n    scissorsButton.addEventListener('click', event => {\r\n\r\n        winnerH1.innerText = '';\r\n        endGameResultH5.innerText = '';\r\n        playerChoiceH2.innerText = 'You Selected Scissors';\r\n        random = Math.floor(Math.random() * arr.length);\r\n        computerGuess = `${arr[random]}`;\r\n        console.log(computerGuess)\r\n    \r\n        if (computerGuess == rock) {\r\n            computerScore++;\r\n            computerChoice.innerText = `Computer selected ${computerGuess}`;\r\n            h3[1].style.color = 'red';\r\n\r\n        } else if (computerGuess == scissors) {\r\n            winnerOfRoundResultH4.innerText = 'Tie';\r\n            computerChoice.innerText = `Computer selected ${computerGuess}`;\r\n\r\n        } else if (computerGuess == paper) {\r\n\r\n            playerWins();\r\n        }\r\n\r\n        gameOver();\r\n\r\n    });\r\n}"],"names":["$1dbe79ed6ae4da18$var$div","document","querySelector","$1dbe79ed6ae4da18$var$userName","$1dbe79ed6ae4da18$var$playerScore","$1dbe79ed6ae4da18$var$sortedData","async","$1dbe79ed6ae4da18$export$7a667d08ed65fa47","incomingName","incomingPoints","response","fetch","data","json","sort","a","b","score","innerHTML","some","obj","name","i","length","li","createElement","innerText","append","$1dbe79ed6ae4da18$export$8a835f07a60f0dcc","url","options","method","body","JSON","stringify","headers","response2","$efff50eca450a049$var$arr","$efff50eca450a049$var$winnerH1","$efff50eca450a049$var$playerChoiceH2","$efff50eca450a049$var$h3","querySelectorAll","$efff50eca450a049$var$h4","$efff50eca450a049$var$endGameResultH5","$efff50eca450a049$var$usernameInput","$efff50eca450a049$var$button","$efff50eca450a049$var$rock","$efff50eca450a049$var$paper","$efff50eca450a049$var$scissors","$efff50eca450a049$var$userNameSubmitButton","$efff50eca450a049$var$rockButton","$efff50eca450a049$var$paperButton","$efff50eca450a049$var$scissorsButton","$efff50eca450a049$var$userName","value","$efff50eca450a049$var$computerChoice","$efff50eca450a049$var$winnerOfRoundResultH4","$efff50eca450a049$var$playerScore","$efff50eca450a049$var$computerScore","$efff50eca450a049$var$random","$efff50eca450a049$var$computerGuess","$efff50eca450a049$var$gameOver","style","color","$efff50eca450a049$var$playerWins","console","log","addEventListener","event","preventDefault","usernameH1","textShadow","marginLeft","remove","Math","floor","random"],"version":3,"file":"index.23eb2f46.js.map"}